const provas = {
    1: [
        {
            question: "Qual das alternativas descreve corretamente uma diferença entre DNA e RNA?",
            options: [
                "DNA possui uracila e fita dupla.",
                "RNA é formado por nucleotídeos com desoxirribose.",
                "DNA possui timina, RNA possui uracila.",
                "Ambos possuem as mesmas bases nitrogenadas."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "A replicação do DNA é chamada de semiconservativa porque:",
            options: [
                "Apenas uma das fitas é copiada.",
                "Apenas organismos eucariontes replicam o DNA assim.",
                "Cada nova molécula mantém uma fita original e forma outra nova.",
                "O processo não é confiável, pois não conserva a informação."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "Sobre a distrofia muscular de Duchenne, é correto afirmar:",
            options: [
                "Acomete mais mulheres do que homens.",
                "É causada por mutação em gene do cromossomo Y.",
                "Envolve mutação no gene da distrofina no cromossomo X.",
                "Tem início geralmente após os 15 anos."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "A eucromatina é caracterizada por:",
            options: [
                "Inatividade transcricional.",
                "Alta condensação.",
                "Atividade gênica.",
                "Ausência de histonas."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "Qual o nome da proteína alterada na Distrofia de Duchenne?",
            options: [
                "Actina.",
                "Distrofina.",
                "Miosina.",
                "Elastina."
            ],
            answer: 1 // Resposta correta
        },
        {
            question: "A fenilcetonúria afeta o metabolismo de:",
            options: [
                "Glicose.",
                "Fenilalanina.",
                "Galactose.",
                "Ácido úrico."
            ],
            answer: 1 // Resposta correta
        },
        {
            question: "A replicação do DNA ocorre em qual fase do ciclo celular?",
            options: [
                "G1.",
                "G2.",
                "S.",
                "M."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "A cromatina ativa é chamada de:",
            options: [
                "Eucromatina.",
                "Heterocromatina.",
                "Cromossomo.",
                "Nucleossomo."
            ],
            answer: 0 // Resposta correta
        },
        {
            question: "O gene causador da acondroplasia está localizado no:",
            options: [
                "Cromossomo 1.",
                "Cromossomo 4.",
                "Cromossomo X.",
                "Cromossomo 7."
            ],
            answer: 1 // Resposta correta
        },
        {
            question: "A síndrome de Hunter é uma:",
            options: [
                "Doença mitocondrial.",
                "Mucopolissacaridose.",
                "Doença dominância ligada ao Y.",
                "Trissomia."
            ],
            answer: 1 // Resposta correta
        }
    ],
    2: [
        {
            question: "A adição de uma cauda poli-A ocorre:",
            options: [
                "No início da replicação.",
                "No núcleo, após transcrição.",
                "Após tradução.",
                "No ribossomo."
            ],
            answer: 1 // Resposta correta
        },
        {
            question: "Qual o nome do experimento que confirmou a estrutura do DNA?",
            options: [
                "Avery.",
                "Griffith.",
                "Franklin.",
                "Watson e Crick."
            ],
            answer: 3 // Resposta correta
        },
        {
            question: "A hemofilia é uma doença:",
            options: [
                "Mitocondrial.",
                "Ligada ao X.",
                "Autossômica dominante.",
                "Poligênica."
            ],
            answer: 1 // Resposta correta
        },
        {
            question: "A proteína CFTR é defeituosa em:",
            options: [
                "Anemia falciforme.",
                "Fibrose cística.",
                "Galactosemia.",
                "Doença de Huntington."
            ],
            answer: 1 // Resposta correta
        },
        {
            question: "A duplicação do DNA ocorre graças à enzima:",
            options: [
                "RNA polimerase.",
                "DNA ligase.",
                "DNA polimerase.",
                "Topoisomerase."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "O códon de iniciação da tradução é:",
            options: [
                "UAA.",
                "AUG.",
                "UGA.",
                "UAG."
            ],
            answer: 1 // Resposta correta
        },
        {
            question: "A anemia falciforme é causada por:",
            options: [
                "Deficiência de distrofina.",
                "Mutação na cadeia alfa da hemoglobina.",
                "Substituição de um aminoácido na hemoglobina beta.",
                "Excesso de ácido úrico."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "A herança autossômica dominante é caracterizada por:",
            options: [
                "Pular gerações.",
                "Afectar apenas homens.",
                "Afectar ambos os sexos com presença em todas as gerações.",
                "Afectar apenas quando ambos os alelos estão mutados."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "A base nitrogenada presente no RNA e ausente no DNA é:",
            options: [
                "Timina.",
                "Citosina.",
                "Uracila.",
                "Guanina."
            ],
            answer: 2 // Resposta correta
        },
        {
            question: "A enzima que adiciona nucleotídeos durante a transcrição é:",
            options: [
                "DNA polimerase.",
                "RNA polimerase.",
                "Ligase.",
                "Topoisomerase."
            ],
            answer: 1 // Resposta correta
        }
    ],
        3: [ // Química
            {
                question: "O que é química?",
                options: [
                    "Estudo dos seres vivos",
                    "Estudo da composição, estrutura, propriedades e transformações da matéria"
                ],
                answer: 1
            },
            {
                question: "Uma substância pura tem:",
                options: [
                    "Composição constante",
                    "Composição variável"
                ],
                answer: 0
            },
            {
                question: "Mistura homogênea é aquela que:",
                options: [
                    "Possui composição uniforme",
                    "Possui composição variável visível"
                ],
                answer: 0
            },
            {
                question: "Propriedades intensivas são aquelas que:",
                options: [
                    "Dependem da quantidade de matéria",
                    "Não dependem da quantidade de matéria"
                ],
                answer: 1
            },
            {
                question: "Na classificação da matéria, a água (H₂O) é considerada:",
                options: [
                    "Substância simples",
                    "Substância composta"
                ],
                answer: 1
            },
            {
                question: "O que é um solvente em uma solução?",
                options: [
                    "Substância em menor quantidade",
                    "Substância em maior quantidade"
                ],
                answer: 1
            },
            {
                question: "O que representa o número atômico (Z)?",
                options: [
                    "Número de nêutrons",
                    "Número de prótons"
                ],
                answer: 1
            },
            {
                question: "Quem propôs o modelo atômico com níveis de energia quantizados?",
                options: [
                    "Thomson",
                    "Bohr"
                ],
                answer: 1
            },
            {
                question: "O que são isótopos?",
                options: [
                    "Átomos de diferentes elementos com o mesmo número de massa",
                    "Átomos do mesmo elemento com diferentes números de nêutrons"
                ],
                answer: 1
            },
            {
                question: "O que é o espectro atômico?",
                options: [
                    "Representação das frequências de luz emitidas/absorvidas por átomos",
                    "Representação das forças nucleares"
                ],
                answer: 0
            }
        ],
        4: [ // Histologia
            {
                question: "Histologia estuda:",
                options: [
                    "Órgãos do corpo",
                    "Tecidos do corpo humano"
                ],
                answer: 1
            },
            {
                question: "Qual tecido é avascular?",
                options: [
                    "Conjuntivo",
                    "Epitelial"
                ],
                answer: 1
            },
            {
                question: "O tecido muscular estriado cardíaco é:",
                options: [
                    "Voluntário",
                    "Involuntário"
                ],
                answer: 1
            },
            {
                question: "Neurônios e células da glia pertencem ao:",
                options: [
                    "Tecido conjuntivo",
                    "Tecido nervoso"
                ],
                answer: 1
            },
            {
                question: "Qual é a função principal dos microvilos?",
                options: [
                    "Movimento",
                    "Aumento da absorção"
                ],
                answer: 1
            },
            {
                question: "A lâmina basal é composta por:",
                options: [
                    "Proteínas estruturais",
                    "Lipídios"
                ],
                answer: 0
            },
            {
                question: "As junções GAP permitem:",
                options: [
                    "Adesão celular",
                    "Comunicação entre células"
                ],
                answer: 1
            },
            {
                question: "Pênfigo vulgar afeta principalmente:",
                options: [
                    "Desmogleína 1",
                    "Desmogleína 3"
                ],
                answer: 1
            },
            {
                question: "Epitélio pseudoestratificado tem células que:",
                options: [
                    "Não tocam a membrana basal",
                    "Tocam a membrana basal, mas nem todas chegam à superfície"
                ],
                answer: 1
            },
            {
                question: "Glândulas unicelulares produzem principalmente:",
                options: [
                    "Mucinas",
                    "Colágeno"
                ],
                answer: 0
            }
        ],
        5: [ // Saúde Coletiva
            {
                question: "Saúde coletiva se preocupa com:",
                options: [
                    "Apenas indivíduos",
                    "Grupos sociais e coletividade"
                ],
                answer: 1
            },
            {
                question: "Saúde pública é dever de quem?",
                options: [
                    "Apenas da família",
                    "Do Estado"
                ],
                answer: 1
            },
            {
                question: "Quem iniciou a vacinação obrigatória no Brasil?",
                options: [
                    "Oswaldo Cruz",
                    "Carlos Chagas"
                ],
                answer: 0
            },
            {
                question: "O que foram os IAPs na Era Vargas?",
                options: [
                    "Institutos de previdência privada",
                    "Institutos de aposentadoria e pensão"
                ],
                answer: 1
            },
            {
                question: "Em que ano o Ministério da Saúde foi separado da Educação?",
                options: [
                    "1930",
                    "1953"
                ],
                answer: 1
            },
            {
                question: "Qual conferência impulsionou a criação do SUS?",
                options: [
                    "7ª Conferência Nacional de Saúde",
                    "8ª Conferência Nacional de Saúde"
                ],
                answer: 1
            },
            {
                question: "O que significa Universalidade no SUS?",
                options: [
                    "Saúde apenas para quem paga",
                    "Saúde como direito de todos"
                ],
                answer: 1
            },
            {
                question: "Sistema anterior ao SUS:",
                options: [
                    "INAMPS",
                    "SUDS"
                ],
                answer: 1
            },
            {
                question: "Conselho de Saúde é composto por:",
                options: [
                    "Apenas profissionais de saúde",
                    "Profissionais, usuários e governo"
                ],
                answer: 1
            },
            {
                question: "Participação popular é princípio:",
                options: [
                    "Organizativo do SUS",
                    "Ético do SUS"
                ],
                answer: 0
            }
        ],
        6: [ // Biossegurança e Bioética
            {
                question: "O que é biossegurança?",
                options: [
                    "Proteção apenas do meio ambiente",
                    "Conjunto de ações para proteger a vida humana e ambiental"
                ],
                answer: 1
            },
            {
                question: "Exemplo de risco ergonômico:",
                options: [
                    "Ruído",
                    "Esforço repetitivo"
                ],
                answer: 1
            },
            {
                question: "Agente biológico classe 4 inclui:",
                options: [
                    "Esquistossomose",
                    "Ebola"
                ],
                answer: 1
            },
            {
                question: "Equipamentos de proteção coletiva (EPCs) são usados para:",
                options: [
                    "Proteger apenas um trabalhador",
                    "Proteger o ambiente inteiro"
                ],
                answer: 1
            },
            {
                question: "A norma NR-32 trata de:",
                options: [
                    "Segurança em laboratórios de alimentos",
                    "Segurança no trabalho em serviços de saúde"
                ],
                answer: 1
            },
            {
                question: "Mapa de risco usa:",
                options: [
                    "Gráficos de barras",
                    "Círculos de diferentes cores e tamanhos"
                ],
                answer: 1
            },
            {
                question: "É proibido no laboratório:",
                options: [
                    "Usar jaleco fechado",
                    "Pipetar com a boca"
                ],
                answer: 1
            },
            {
                question: "Boas práticas laboratoriais incluem:",
                options: [
                    "Comer no laboratório",
                    "Uso correto dos EPIs"
                ],
                answer: 1
            },
            {
                question: "A lei brasileira de biossegurança mais recente é a:",
                options: [
                    "8.974/1995",
                    "11.105/2005"
                ],
                answer: 1
            },
            {
                question: "Ignac Semmelweis ficou famoso por:",
                options: [
                    "Criar a vacina",
                    "Introduzir a lavagem das mãos"
                ],
                answer: 1
            }
        ],
        7: [ // Epidemiologia
            {
                question: "Epidemiologia estuda:",
                options: [
                    "Apenas doenças",
                    "Eventos que afetam populações"
                ],
                answer: 1
            },
            {
                question: "John Snow foi importante para:",
                options: [
                    "Criar vacinas",
                    "Descobrir a transmissão da cólera"
                ],
                answer: 1
            },
            {
                question: "O agente da dengue é:",
                options: [
                    "Mosquito",
                    "Vírus"
                ],
                answer: 1
            },
            {
                question: "Determinantes sociais da saúde incluem:",
                options: [
                    "Apenas genética",
                    "Condições sociais, ambientais e econômicas"
                ],
                answer: 1
            },
            {
                question: "Surto se caracteriza por:",
                options: [
                    "Casos limitados em espaço e tempo",
                    "Casos em vários continentes"
                ],
                answer: 0
            },
            {
                question: "Doença crônica tem:",
                options: [
                    "Evolução rápida",
                    "Evolução lenta"
                ],
                answer: 1
            },
            {
                question: "Fase pré-patogênica é:",
                options: [
                    "Antes da doença se instalar",
                    "Quando já há sintomas"
                ],
                answer: 0
            },
            {
                question: "Prevenção secundária visa:",
                options: [
                    "Impedir o surgimento da doença",
                    "Diagnosticar e tratar precocemente"
                ],
                answer: 1
            },
            {
                question: "O que é endemia?",
                options: [
                    "Doença fora do normal em área restrita",
                    "Doença presente de forma constante em determinada região"
                ],
                answer: 1
            },
            {
                question: "Quais são exemplos de zoonoses?",
                options: [
                    "HIV",
                    "Raiva e gripe"
                ],
                answer: 1
            }
        ]
    };

let currentQuestionIndex = 0;
let currentProva = [];

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function showProva(provaNumber) {
    currentProva = provas[provaNumber];
    currentQuestionIndex = 0;
    displayQuestion();
}

function displayQuestion() {
    const provaContainer = document.getElementById('prova-container');
    provaContainer.innerHTML = ''; // Limpa o conteúdo anterior

    if (currentQuestionIndex < currentProva.length) {
        const item = currentProva[currentQuestionIndex];
        const questionDiv = document.createElement('div');
        questionDiv.className = 'question';

        // Cria um array de opções com o índice da resposta correta
        const optionsWithIndex = item.options.map((option, i) => ({ text: option, index: i }));
        
        // Embaralha as opções
        shuffleArray(optionsWithIndex);

        // Encontra a nova posição da resposta correta
        const correctOptionIndex = optionsWithIndex.findIndex(option => option.index === item.answer);

        questionDiv.innerHTML = `
            <p>${currentQuestionIndex + 1}. ${item.question}</p>
            <div class="options">
                ${optionsWithIndex.map((option, i) => `
                    <button onclick="checkAnswer(${i === correctOptionIndex})">${option.text}</button>
                `).join('')}
            </div>
            <div id="correct-answer" class="answer"></div>
            <button class="next-button" id="next-button" onclick="nextQuestion()" style="display: none;">Próxima Pergunta</button>
        `;
        provaContainer.appendChild(questionDiv);
    } else {
        provaContainer.innerHTML = "<p>Você completou a prova!</p>";
    }
}

function checkAnswer(isCorrect) {
    const answerDiv = document.getElementById('correct-answer');
    const correctAnswer = currentProva[currentQuestionIndex].options[currentProva[currentQuestionIndex].answer];
    
    if (isCorrect) {
        answerDiv.innerHTML = "Resposta correta!";
    } else {
        answerDiv.innerHTML = `Resposta incorreta! Resposta correta: ${correctAnswer}`;
    }
    answerDiv.style.display = 'block';

    // Mostrar o botão para a próxima pergunta
    document.getElementById('next-button').style.display = 'block';
}

function nextQuestion() {
    currentQuestionIndex++;
    displayQuestion();
}